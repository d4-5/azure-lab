<?php 	require_once "application/core/constant.php";	$PDO = new PDO ("mysql:dbname=".dbname.";host=".dbhost,dbuser,dbpass);		$select="SELECT * FROM tovar ORDER BY RAND() LIMIT 3";	$PDOStatement = $PDO->prepare($select);	$PDOStatement->execute();	$datafeature = $PDOStatement->fetchAll();		$feature = file_get_contents('application/views/templates/feature_head.html');		foreach($datafeature as $item)	{		$img=get_photo($item['id']);		$tmp=str_replace("##imgsrc##", $img,$feature);		$tmp=str_replace("##title##", $item['title'],$tmp);		$tmp = str_replace("##href##", baseaddress."/tovar/details/##id##/##titlehref##",$tmp);		$tmp=str_replace("##id##", $item['id'],$tmp);		$tmp=str_replace("##titlehref##", str_replace(" ", "-", $item['title']),$tmp);		$tmp=str_replace("##description1##", $item['description'],$tmp);		echo $tmp;	}			function get_photo($id)	{		require_once "application/core/constant.php";		$PDO = new PDO ("mysql:dbname=".dbname.";host=".dbhost,dbuser,dbpass);		$select="SELECT photo FROM tovar where id = :id";		$PDOStatement = $PDO->prepare($select);		$PDOStatement->bindParam(':id', $id, PDO::PARAM_INT);		$PDOStatement->execute();		$photo = $PDOStatement->fetch();		return "<img alt='##title##' title='##title##' src='data:image/*;base64,".base64_encode($photo['photo'])."' />";	}?>